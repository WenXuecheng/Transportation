{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from \"@/store\";\nVue.use(VueRouter);\nconst routes = [{\n  path: '/login',\n  name: 'Login',\n  component: () => import('../../../../springboot/vue/src/views/Login.vue')\n}, {\n  path: '/register',\n  name: 'Register',\n  component: () => import('../../../../springboot/vue/src/views/Register.vue')\n}, {\n  path: '/404',\n  name: '404',\n  component: () => import('../../../../springboot/vue/src/views/404.vue')\n}, {\n  path: '/front',\n  name: 'Front',\n  component: () => import('../../../../springboot/vue/src/views/front/Front.vue'),\n  children: [{\n    path: 'home',\n    name: 'FrontHome',\n    component: () => import('../../../../springboot/vue/src/views/front/Home.vue')\n  }, {\n    path: 'item1',\n    name: 'Item1',\n    component: () => import('../../../../springboot/vue/src/views/front/Item1.vue')\n  }, {\n    path: 'person',\n    name: 'FrontPerson',\n    component: () => import('../../../../springboot/vue/src/views/front/Person.vue')\n  }, {\n    path: 'password',\n    name: 'FrontPassword',\n    component: () => import('../../../../springboot/vue/src/views/front/Password.vue')\n  }, {\n    path: 'video',\n    name: 'Video',\n    component: () => import('../../../../springboot/vue/src/views/front/Video.vue')\n  }, {\n    path: 'videoDetail',\n    name: 'VideoDetail',\n    component: () => import('../../../../springboot/vue/src/views/front/VideoDetail.vue')\n  }, {\n    path: 'article',\n    name: 'FrontArticle',\n    component: () => import('../../../../springboot/vue/src/views/front/Article.vue')\n  }, {\n    path: 'articleDetail',\n    name: 'ArticleDetail',\n    component: () => import('../../../../springboot/vue/src/views/front/ArticleDetail.vue')\n  }]\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\n\n// 注意：刷新页面会导致页面路由重置\nexport const setRoutes = () => {\n  const storeMenus = localStorage.getItem(\"menus\");\n  if (storeMenus) {\n    // 获取当前的路由对象名称数组\n    const currentRouteNames = router.getRoutes().map(v => v.name);\n    if (!currentRouteNames.includes('Manage')) {\n      // 拼装动态路由\n      const manageRoute = {\n        path: '/',\n        name: 'Manage',\n        component: () => import('../../../../springboot/vue/src/views/Manage.vue'),\n        redirect: \"/home\",\n        children: [{\n          path: 'person',\n          name: '个人信息',\n          component: () => import('../../../../springboot/vue/src/views/Person.vue')\n        }, {\n          path: 'password',\n          name: '修改密码',\n          component: () => import('../../../../springboot/vue/src/views/Password.vue')\n        }]\n      };\n      const menus = JSON.parse(storeMenus);\n      menus.forEach(item => {\n        if (item.path) {\n          // 当且仅当path不为空的时候才去设置路由\n          let itemMenu = {\n            path: item.path.replace(\"/\", \"\"),\n            name: item.name,\n            component: () => import('../views/' + item.pagePath + '.vue')\n          };\n          manageRoute.children.push(itemMenu);\n        } else if (item.children.length) {\n          item.children.forEach(item => {\n            if (item.path) {\n              let itemMenu = {\n                path: item.path.replace(\"/\", \"\"),\n                name: item.name,\n                component: () => import('../views/' + item.pagePath + '.vue')\n              };\n              manageRoute.children.push(itemMenu);\n            }\n          });\n        }\n      });\n      // 动态添加到现在的路由对象中去\n      router.addRoute(manageRoute);\n    }\n  }\n};\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","use","routes","path","name","component","children","router","mode","base","process","env","BASE_URL","setRoutes","storeMenus","localStorage","getItem","currentRouteNames","getRoutes","map","v","includes","manageRoute","redirect","menus","JSON","parse","forEach","item","itemMenu","replace","pagePath","push","length","addRoute"],"sources":["D:/pro/Transportation/vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from \"@/store\";\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import('../../../../springboot/vue/src/views/Login.vue')\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import('../../../../springboot/vue/src/views/Register.vue')\n  },\n  {\n    path: '/404',\n    name: '404',\n    component: () => import('../../../../springboot/vue/src/views/404.vue')\n  },\n  {\n    path: '/front',\n    name: 'Front',\n    component: () => import('../../../../springboot/vue/src/views/front/Front.vue'),\n    children: [\n      {\n        path: 'home',\n        name: 'FrontHome',\n        component: () => import('../../../../springboot/vue/src/views/front/Home.vue')\n      },\n      {\n        path: 'item1',\n        name: 'Item1',\n        component: () => import('../../../../springboot/vue/src/views/front/Item1.vue')\n      },\n      {\n        path: 'person',\n        name: 'FrontPerson',\n        component: () => import('../../../../springboot/vue/src/views/front/Person.vue')\n      },\n      {\n        path: 'password',\n        name: 'FrontPassword',\n        component: () => import('../../../../springboot/vue/src/views/front/Password.vue')\n      },\n      {\n        path: 'video',\n        name: 'Video',\n        component: () => import('../../../../springboot/vue/src/views/front/Video.vue')\n      },\n      {\n        path: 'videoDetail',\n        name: 'VideoDetail',\n        component: () => import('../../../../springboot/vue/src/views/front/VideoDetail.vue')\n      },\n      {\n        path: 'article',\n        name: 'FrontArticle',\n        component: () => import('../../../../springboot/vue/src/views/front/Article.vue')\n      },\n      {\n        path: 'articleDetail',\n        name: 'ArticleDetail',\n        component: () => import('../../../../springboot/vue/src/views/front/ArticleDetail.vue')\n      },\n    ]\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n\n// 注意：刷新页面会导致页面路由重置\nexport const setRoutes = () => {\n  const storeMenus = localStorage.getItem(\"menus\");\n  if (storeMenus) {\n\n    // 获取当前的路由对象名称数组\n    const currentRouteNames = router.getRoutes().map(v => v.name)\n    if (!currentRouteNames.includes('Manage')) {\n      // 拼装动态路由\n      const manageRoute = { path: '/', name: 'Manage', component: () => import('../../../../springboot/vue/src/views/Manage.vue'), redirect: \"/home\", children: [\n          { path: 'person', name: '个人信息', component: () => import('../../../../springboot/vue/src/views/Person.vue')},\n          { path: 'password', name: '修改密码', component: () => import('../../../../springboot/vue/src/views/Password.vue')}\n        ] }\n      const menus = JSON.parse(storeMenus)\n      menus.forEach(item => {\n        if (item.path) {  // 当且仅当path不为空的时候才去设置路由\n          let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\n          manageRoute.children.push(itemMenu)\n        } else if(item.children.length) {\n          item.children.forEach(item => {\n            if (item.path) {\n              let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\n              manageRoute.children.push(itemMenu)\n            }\n          })\n        }\n      })\n      // 动态添加到现在的路由对象中去\n      router.addRoute(manageRoute)\n    }\n\n  }\n}\n\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}