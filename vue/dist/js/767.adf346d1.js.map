{"version":3,"file":"js/767.adf346d1.js","mappings":"kJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,WAAW,CAACF,EAAG,WAAW,CAACE,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,YAAc,QAAQ,cAAc,kBAAkBC,MAAM,CAACC,MAAOP,EAAIQ,KAAMC,SAAS,SAAUC,GAAMV,EAAIQ,KAAKE,CAAG,EAAEC,WAAW,UAAUT,EAAG,YAAY,CAACU,YAAY,OAAOP,MAAM,CAAC,KAAO,WAAWQ,GAAG,CAAC,MAAQb,EAAIc,OAAO,CAACd,EAAIe,GAAG,QAAQb,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWQ,GAAG,CAAC,MAAQb,EAAIgB,QAAQ,CAAChB,EAAIe,GAAG,SAAS,GAAGb,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIkB,UAAU,KAAK,IAAI,CAAClB,EAAIe,GAAG,OAAOb,EAAG,IAAI,CAACU,YAAY,kCAAkCV,EAAG,gBAAgB,CAACU,YAAY,OAAOP,MAAM,CAAC,sBAAsB,KAAK,qBAAqB,OAAO,KAAO,eAAe,aAAa,MAAM,MAAQ,kCAAkCQ,GAAG,CAAC,QAAUb,EAAImB,WAAW,CAACjB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,YAAY,KAAO,UAAUe,KAAK,aAAa,CAACpB,EAAIe,GAAG,SAASb,EAAG,IAAI,CAACU,YAAY,8BAA8B,IAAI,GAAGV,EAAG,WAAW,CAACG,MAAM,CAAC,KAAOL,EAAIqB,UAAU,OAAS,GAAG,OAAS,GAAG,yBAAyB,WAAW,UAAU,KAAK,qBAAqB,GAAG,OAAS,OAAOR,GAAG,CAAC,mBAAmBb,EAAIsB,wBAAwB,CAACpB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,KAAK,aAAa,aAAa,MAAQ,SAAS,mBAAmB,cAAckB,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACzB,EAAG,OAAO,CAAC0B,MAAMD,EAAME,IAAIC,OAAO,OAAO5B,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,UAAU,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,MAAM,MAAQ,UAAUkB,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAGA,EAAME,IAAIE,KAAQJ,EAAME,IAAIG,KAA2KhC,EAAIiC,KAAzK/B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAIkB,UAAUS,EAAME,IAAIK,GAAG,IAAI,CAAClC,EAAIe,GAAG,UAAUb,EAAG,IAAI,CAACU,YAAY,mBAA4BV,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOjB,EAAImC,WAAWR,EAAME,IAAI,IAAI,CAAC7B,EAAIe,GAAG,OAAOb,EAAG,IAAI,CAACU,YAAY,mBAAmBV,EAAG,gBAAgB,CAACU,YAAY,OAAOP,MAAM,CAAC,sBAAsB,KAAK,qBAAqB,OAAO,KAAO,eAAe,aAAa,MAAM,MAAQ,WAAWQ,GAAG,CAAC,QAAU,SAASI,GAAQ,OAAOjB,EAAIoC,IAAIT,EAAME,IAAIK,GAAG,IAAI,CAAChC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,YAAY,KAAO,UAAUe,KAAK,aAAa,CAACpB,EAAIe,GAAG,OAAOb,EAAG,IAAI,CAACU,YAAY,8BAA8B,GAAG,QAAQ,GAAGV,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAIqC,kBAAkB,MAAQ,OAAOxB,GAAG,CAAC,iBAAiB,SAASI,GAAQjB,EAAIqC,kBAAkBpB,CAAM,IAAI,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,cAAc,OAAO,KAAO,UAAU,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,SAAW,GAAG,aAAe,OAAOC,MAAM,CAACC,MAAOP,EAAIsC,KAAKJ,GAAIzB,SAAS,SAAUC,GAAMV,EAAIuC,KAAKvC,EAAIsC,KAAM,KAAM5B,EAAI,EAAEC,WAAW,cAAc,GAAGT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOC,MAAM,CAACC,MAAOP,EAAIsC,KAAK9B,KAAMC,SAAS,SAAUC,GAAMV,EAAIuC,KAAKvC,EAAIsC,KAAM,OAAQ5B,EAAI,EAAEC,WAAW,gBAAgB,GAAGT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOC,MAAM,CAACC,MAAOP,EAAIsC,KAAKN,KAAMvB,SAAS,SAAUC,GAAMV,EAAIuC,KAAKvC,EAAIsC,KAAM,OAAQ5B,EAAI,EAAEC,WAAW,gBAAgB,GAAGT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOC,MAAM,CAACC,MAAOP,EAAIsC,KAAKE,SAAU/B,SAAS,SAAUC,GAAMV,EAAIuC,KAAKvC,EAAIsC,KAAM,WAAY5B,EAAI,EAAEC,WAAW,oBAAoB,GAAGT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,YAAY,CAACE,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,UAAY,GAAG,YAAc,OAAOC,MAAM,CAACC,MAAOP,EAAIsC,KAAKR,KAAMrB,SAAS,SAAUC,GAAMV,EAAIuC,KAAKvC,EAAIsC,KAAM,OAAQ5B,EAAI,EAAEC,WAAW,cAAcX,EAAIyC,GAAIzC,EAAI0C,SAAS,SAASC,GAAM,OAAOzC,EAAG,YAAY,CAACuB,IAAIkB,EAAKnC,KAAKH,MAAM,CAAC,MAAQsC,EAAKnC,KAAK,MAAQmC,EAAKpC,QAAQ,CAACL,EAAG,IAAI,CAAC0B,MAAMe,EAAKpC,QAAQP,EAAIe,GAAG,IAAIf,EAAI4C,GAAGD,EAAKnC,MAAM,MAAM,IAAG,IAAI,GAAGN,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOC,MAAM,CAACC,MAAOP,EAAIsC,KAAKO,QAASpC,SAAS,SAAUC,GAAMV,EAAIuC,KAAKvC,EAAIsC,KAAM,UAAW5B,EAAI,EAAEC,WAAW,mBAAmB,GAAGT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOC,MAAM,CAACC,MAAOP,EAAIsC,KAAKQ,YAAarC,SAAS,SAAUC,GAAMV,EAAIuC,KAAKvC,EAAIsC,KAAM,cAAe5B,EAAI,EAAEC,WAAW,uBAAuB,IAAI,GAAGT,EAAG,MAAM,CAACU,YAAY,gBAAgBP,MAAM,CAAC,KAAO,UAAUe,KAAK,UAAU,CAAClB,EAAG,YAAY,CAACW,GAAG,CAAC,MAAQ,SAASI,GAAQjB,EAAIqC,mBAAoB,CAAK,IAAI,CAACrC,EAAIe,GAAG,SAASb,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWQ,GAAG,CAAC,MAAQb,EAAI+C,OAAO,CAAC/C,EAAIe,GAAG,UAAU,IAAI,IAAI,EAC/5J,EACIiC,EAAkB,G,UC6FtB,GACAxC,KAAA,OACAyC,OACA,OACA5B,UAAA,GACA6B,MAAA,EACAC,QAAA,EACAC,SAAA,GACA5C,KAAA,GACA8B,KAAA,GACAD,mBAAA,EACAgB,kBAAA,GACAX,QAAA,GAEA,EACAY,UACA,KAAAxC,OACA,KAAAyC,OACA,KAAAC,UACA,EACAC,QAAA,CACA3C,OACA,KAAA4C,QAAAC,IAAA,SACAC,OAAA,CACApD,KAAA,KAAAA,QAEAqD,MAAAC,IACA,MAAAA,EAAAb,OAEA,KAAA5B,UAAAyC,EAAAb,KACA,IAIA,KAAAS,QAAAC,IAAA,eAAAE,MAAAC,IACA,MAAAA,EAAAb,OAEA,KAAAP,QAAAoB,EAAAb,KACA,GAEA,EACA,cAAAc,GACA,kBAAAL,QAAAC,IAAA,kBAAAI,IAAAd,IACA,EACA,cAAAc,GACA,kBAAAL,QAAAC,IAAA,kBAAAI,IAAAd,IACA,EACAF,OACA,KAAAW,QAAAM,KAAA,aAAA1B,MAAAuB,MAAAC,IACA,WAAAA,EAAAG,KAAA,CACA,KAAAC,SAAAC,QAAA,QAEA,IAAAC,EAAAC,aAAAC,QAAA,QAAAC,KAAAC,MAAAH,aAAAC,QAAA,SAAAP,SAAA,GACA,KAAAU,QAAAL,GAAAP,MAAAC,IACAO,aAAAK,QAAA,QAAAH,KAAAI,UAAAb,GAAA,IAEA,KAAAc,QAAAR,GAAAP,MAAAC,IACAA,EAAAe,MAAAN,KAAAC,MAAAH,aAAAC,QAAA,SAAAO,MACAR,aAAAK,QAAA,OAAAH,KAAAI,UAAAb,GAAA,IAGA,KAAAgB,MAAA,eACA,KAAAzC,mBAAA,EACA,KAAAvB,MACA,MACA,KAAAoD,SAAAa,MAAA,OACA,GAEA,EACA7D,UAAAa,GACA,KAAAM,mBAAA,EACA,KAAAC,KAAA,GACAP,IACA,KAAAO,KAAAP,IAAAA,EAEA,EACAI,WAAAN,GACA,KAAAS,KAAAiC,KAAAC,MAAAD,KAAAI,UAAA9C,IACA,KAAAQ,mBAAA,CACA,EACAD,IAAAF,GACA,KAAAwB,QAAAsB,OAAA,SAAA9C,GAAA2B,MAAAC,IACA,QAAAA,EAAAG,MACA,KAAAC,SAAAC,QAAA,QACA,KAAArD,QAEA,KAAAoD,SAAAa,MAAA,OACA,GAEA,EACAzD,sBAAA2D,GACA,KAAA5B,kBAAA4B,CACA,EACA9D,WACA,IAAA+D,EAAA,KAAA7B,kBAAA8B,KAAAC,GAAAA,EAAAlD,KACA,KAAAwB,QAAAM,KAAA,kBAAAkB,GAAArB,MAAAC,IACA,QAAAA,EAAAG,MACA,KAAAC,SAAAC,QAAA,UACA,KAAArD,QAEA,KAAAoD,SAAAa,MAAA,SACA,GAEA,EACA/D,QACA,KAAAR,KAAA,GACA,KAAAM,MACA,EACAuE,iBAAAjC,GACA,KAAAA,SAAAA,EACA,KAAAtC,MACA,EACAwE,oBAAAnC,GACA,KAAAA,QAAAA,EACA,KAAArC,MACA,EACAyE,MACAC,OAAAC,KAAA,GAAAC,EAAAA,QAAAC,EAAAA,MAAAC,EAAAA,iBACA,EACAC,2BACA,KAAA3B,SAAAC,QAAA,QACA,KAAArD,MACA,EAEAyC,OACA,IAAAuC,EAAA,SAAAC,GACA,EACAC,SAAAC,KAAAC,MAAAC,SAAA,SACAH,SAAAI,iBAAA,YAAAN,GAAA,EACA,EACAtC,WACA,KAAA6C,OAAA,iCAAAC,kBAAA,MACA,ICnOoP,I,UCQhPC,GAAY,OACd,EACAxG,EACAiD,GACA,EACA,KACA,KACA,MAIF,EAAeuD,EAAiB,O","sources":["webpack://vue/./src/views/Menu.vue","webpack://vue/src/views/Menu.vue","webpack://vue/./src/views/Menu.vue?ae93","webpack://vue/./src/views/Menu.vue?b8c0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入名称\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('el-button',{staticClass:\"ml-5\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.load}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAdd(null)}}},[_vm._v(\"新增 \"),_c('i',{staticClass:\"el-icon-circle-plus-outline\"})]),_c('el-popconfirm',{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定批量删除这些数据吗？删除菜单可能会影响网站的正常功能！\"},on:{\"confirm\":_vm.delBatch}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"批量删除 \"),_c('i',{staticClass:\"el-icon-remove-outline\"})])],1)],1),_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\",\"header-cell-class-name\":'headerBg',\"row-key\":\"id\",\"default-expand-all\":\"\",\"height\":\"750\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"path\",\"label\":\"路径\"}}),_c('el-table-column',{attrs:{\"prop\":\"pagePath\",\"label\":\"页面路径\"}}),_c('el-table-column',{attrs:{\"label\":\"图标\",\"class-name\":\"fontSize18\",\"align\":\"center\",\"label-class-name\":\"fontSize12\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:scope.row.icon})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\"}}),_c('el-table-column',{attrs:{\"prop\":\"sortNum\",\"label\":\"顺序\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.pid && !scope.row.path)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAdd(scope.row.id)}}},[_vm._v(\"新增子菜单 \"),_c('i',{staticClass:\"el-icon-plus\"})]):_vm._e(),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑 \"),_c('i',{staticClass:\"el-icon-edit\"})]),_c('el-popconfirm',{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定删除吗？\"},on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除 \"),_c('i',{staticClass:\"el-icon-remove-outline\"})])],1)]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"菜单信息\",\"visible\":_vm.dialogFormVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"label-width\":\"80px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"ID\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"路径\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.path),callback:function ($$v) {_vm.$set(_vm.form, \"path\", $$v)},expression:\"form.path\"}})],1),_c('el-form-item',{attrs:{\"label\":\"页面路径\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.pagePath),callback:function ($$v) {_vm.$set(_vm.form, \"pagePath\", $$v)},expression:\"form.pagePath\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.form.icon),callback:function ($$v) {_vm.$set(_vm.form, \"icon\", $$v)},expression:\"form.icon\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.value}},[_c('i',{class:item.value}),_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"顺序\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.sortNum),callback:function ($$v) {_vm.$set(_vm.form, \"sortNum\", $$v)},expression:\"form.sortNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div style=\"margin: 10px 0\">\r\n            <el-input style=\"width: 200px\" placeholder=\"请输入名称\" suffix-icon=\"el-icon-search\" v-model=\"name\"></el-input>\r\n            <el-button class=\"ml-5\" type=\"primary\" @click=\"load\">搜索</el-button>\r\n            <el-button type=\"warning\" @click=\"reset\">重置</el-button>\r\n        </div>\r\n\r\n        <div style=\"margin: 10px 0\">\r\n            <el-button type=\"primary\" @click=\"handleAdd(null)\">新增 <i class=\"el-icon-circle-plus-outline\"></i></el-button>\r\n            <el-popconfirm\r\n                    class=\"ml-5\"\r\n                    confirm-button-text='确定'\r\n                    cancel-button-text='我再想想'\r\n                    icon=\"el-icon-info\"\r\n                    icon-color=\"red\"\r\n                    title=\"您确定批量删除这些数据吗？删除菜单可能会影响网站的正常功能！\"\r\n                    @confirm=\"delBatch\"\r\n            >\r\n                <el-button type=\"danger\" slot=\"reference\">批量删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n            </el-popconfirm>\r\n        </div>\r\n\r\n        <el-table :data=\"tableData\" border stripe :header-cell-class-name=\"'headerBg'\"\r\n                  row-key=\"id\" default-expand-all @selection-change=\"handleSelectionChange\" height=\"750\">\r\n            <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n            <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n            <el-table-column prop=\"path\" label=\"路径\"></el-table-column>\r\n            <el-table-column prop=\"pagePath\" label=\"页面路径\"></el-table-column>\r\n            <el-table-column label=\"图标\" class-name=\"fontSize18\" align=\"center\" label-class-name=\"fontSize12\">\r\n                <template slot-scope=\"scope\">\r\n                    <span :class=\"scope.row.icon\" />\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"description\" label=\"描述\"></el-table-column>\r\n            <el-table-column prop=\"sortNum\" label=\"顺序\"></el-table-column>\r\n            <el-table-column label=\"操作\"  width=\"300\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" @click=\"handleAdd(scope.row.id)\" v-if=\"!scope.row.pid && !scope.row.path\">新增子菜单 <i class=\"el-icon-plus\"></i></el-button>\r\n                    <el-button type=\"success\" @click=\"handleEdit(scope.row)\">编辑 <i class=\"el-icon-edit\"></i></el-button>\r\n                    <el-popconfirm\r\n                            class=\"ml-5\"\r\n                            confirm-button-text='确定'\r\n                            cancel-button-text='我再想想'\r\n                            icon=\"el-icon-info\"\r\n                            icon-color=\"red\"\r\n                            title=\"您确定删除吗？\"\r\n                            @confirm=\"del(scope.row.id)\"\r\n                    >\r\n                        <el-button type=\"danger\" slot=\"reference\">删除 <i class=\"el-icon-remove-outline\"></i></el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-dialog title=\"菜单信息\" :visible.sync=\"dialogFormVisible\" width=\"30%\" >\r\n            <el-form label-width=\"80px\" size=\"small\">\r\n                <el-form-item label=\"ID\">\r\n                    <el-input v-model=\"form.id\" disabled autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"名称\">\r\n                    <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"路径\">\r\n                    <el-input v-model=\"form.path\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"页面路径\">\r\n                    <el-input v-model=\"form.pagePath\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"图标\">\r\n                    <el-select clearable v-model=\"form.icon\" placeholder=\"请选择\" style=\"width: 100%\">\r\n                        <el-option v-for=\"item in options\" :key=\"item.name\" :label=\"item.name\" :value=\"item.value\">\r\n                            <i :class=\"item.value\" /> {{ item.name }}\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"顺序\">\r\n                    <el-input v-model=\"form.sortNum\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"描述\">\r\n                    <el-input v-model=\"form.description\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {serverIp} from \"../../public/config\";\r\nimport {serverPort,http} from \"../../public/config\";\r\nexport default {\r\n    name: \"Menu\",\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            total: 0,\r\n            pageNum: 1,\r\n            pageSize: 10,\r\n            name: \"\",\r\n            form: {},\r\n            dialogFormVisible: false,\r\n            multipleSelection: [],\r\n            options: []\r\n        }\r\n    },\r\n    created() {\r\n        this.load()\r\n        this.stop()\r\n        this.alertbox()\r\n    },\r\n    methods: {\r\n        load() {\r\n            this.request.get(\"/menu\", {\r\n                params: {\r\n                    name: this.name,\r\n                }\r\n            }).then(res => {\r\n                if(res.data!=null)\r\n                {\r\n                    this.tableData = res.data\r\n                }\r\n            })\r\n\r\n            // 请求图标的数据\r\n            this.request.get(\"/menu/icons\").then(res => {\r\n                if(res.data!=null)\r\n                {\r\n                    this.options = res.data\r\n                }\r\n            })\r\n        },\r\n        async getMenu(username) {\r\n            return (await this.request.get(\"/menu/username/\" + username)).data\r\n        },\r\n        async getUser(username) {\r\n            return (await this.request.get(\"/user/username/\" + username)).data\r\n        },\r\n        save() {\r\n            this.request.post(\"/menu\", this.form).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"保存成功\")\r\n                    // 更新浏览器存储的menu信息\r\n                    let upadataUsername = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")).username : \"\"\r\n                    this.getMenu(upadataUsername).then(res => {\r\n                        localStorage.setItem(\"menus\", JSON.stringify(res))\r\n                    })\r\n                    this.getUser(upadataUsername).then(res => {\r\n                        res.token = JSON.parse(localStorage.getItem(\"user\")).token\r\n                        localStorage.setItem(\"user\", JSON.stringify(res))\r\n                    })\r\n                    // 触发父级更新Menu的方法\r\n                    this.$emit(\"refreshMenu\")\r\n                    this.dialogFormVisible = false\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"保存失败\")\r\n                }\r\n            })\r\n        },\r\n        handleAdd(pid) {\r\n            this.dialogFormVisible = true\r\n            this.form = {}\r\n            if (pid) {\r\n                this.form.pid = pid\r\n            }\r\n        },\r\n        handleEdit(row) {\r\n            this.form = JSON.parse(JSON.stringify(row))\r\n            this.dialogFormVisible = true\r\n        },\r\n        del(id) {\r\n            this.request.delete(\"/menu/\" + id).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"删除成功\")\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"删除失败\")\r\n                }\r\n            })\r\n        },\r\n        handleSelectionChange(val) {\r\n            this.multipleSelection = val\r\n        },\r\n        delBatch() {\r\n            let ids = this.multipleSelection.map(v => v.id)  // [{}, {}, {}] => [1,2,3]\r\n            this.request.post(\"/menu/del/batch\", ids).then(res => {\r\n                if (res.code === '200') {\r\n                    this.$message.success(\"批量删除成功\")\r\n                    this.load()\r\n                } else {\r\n                    this.$message.error(\"批量删除失败\")\r\n                }\r\n            })\r\n        },\r\n        reset() {\r\n            this.name = \"\"\r\n            this.load()\r\n        },\r\n        handleSizeChange(pageSize) {\r\n            this.pageSize = pageSize\r\n            this.load()\r\n        },\r\n        handleCurrentChange(pageNum) {\r\n            this.pageNum = pageNum\r\n            this.load()\r\n        },\r\n        exp() {\r\n            window.open(`${http}://${serverIp}:${serverPort}/role/export`)\r\n        },\r\n        handleExcelImportSuccess() {\r\n            this.$message.success(\"导入成功\")\r\n            this.load()\r\n        },\r\n        //禁止页面滑动\r\n        stop(){\r\n            var box=function(e)\r\n            {passive: false ;};\r\n            document.body.style.overflow='hidden';\r\n            document.addEventListener(\"touchmove\",box,false);\r\n        },\r\n        alertbox() {\r\n            this.$alert('编辑菜单可能会影响网站的正常功能，建议与开发商定', '提示', {confirmButtonText: '确定'});\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.headerBg {\r\n    background: #eee!important;\r\n}\r\n.fontSize18{\r\n    font-size: 18px;\r\n}\r\n.fontSize12{\r\n    font-size: 12px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=6b1b88d3&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=6b1b88d3&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","model","value","name","callback","$$v","expression","staticClass","on","load","_v","reset","$event","handleAdd","delBatch","slot","tableData","handleSelectionChange","scopedSlots","_u","key","fn","scope","class","row","icon","pid","path","_e","id","handleEdit","del","dialogFormVisible","form","$set","pagePath","_l","options","item","_s","sortNum","description","save","staticRenderFns","data","total","pageNum","pageSize","multipleSelection","created","stop","alertbox","methods","request","get","params","then","res","username","post","code","$message","success","upadataUsername","localStorage","getItem","JSON","parse","getMenu","setItem","stringify","getUser","token","$emit","error","delete","val","ids","map","v","handleSizeChange","handleCurrentChange","exp","window","open","http","serverIp","serverPort","handleExcelImportSuccess","box","e","document","body","style","overflow","addEventListener","$alert","confirmButtonText","component"],"sourceRoot":""}