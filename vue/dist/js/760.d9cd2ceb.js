"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[760],{8760:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("el-table",{staticStyle:{width:"100%","border-radius":"25px"},attrs:{"header-cell-style":"background-color: #DCDFE6; color: #606266;",data:e.tableData,border:"",height:"780",width:"100%",size:"medium","default-expand-all":"ture"}},[t("el-table-column",{attrs:{type:"expand","align-center":"true"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-descriptions",{attrs:{column:"3",size:"mini",border:""}},[t("template",{slot:"extra"},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showAdminPhoto(s.row.adminUpload)}}},[e._v(e._s(e.$t("Viewmyobjects")))]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showUserPhoto(s.row.userUpload)}}},[e._v(e._s(e.$t("Viewmyuploads")))]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleAddPhoto(s.row.username,s.row.orderName)}}},[e._v(e._s(e.$t("Uploadphotos")))]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteOrder(s.row.orderName)}}},[e._v(e._s(e.$t("Cancellationorders")))])],1),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user"}),e._v(" "+e._s(e.$t("name"))+" ")]),e._v(" "+e._s(s.row.name)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-mobile-phone"}),e._v(" "+e._s(e.$t("phone"))+" ")]),e._v(" "+e._s(s.row.phone)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-location-outline"}),e._v(" "+e._s(e.$t("weight"))+"/"+e._s(e.$t("deliveryNum"))+" ")]),e._v(" "+e._s(s.row.weight)+"kg，"+e._s(s.row.deliveryNum)+e._s(e.$t("number"))+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-tickets"}),e._v(" "+e._s(e.$t("receiveAdress"))+" ")]),t("el-tag",{attrs:{size:"small"}},[e._v(e._s(s.row.receiveAdress))])],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-office-building"}),e._v(" "+e._s(e.$t("sendRegion"))+" ")]),e._v(" "+e._s(s.row.sendRegion)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-office-building"}),e._v(" "+e._s(e.$t("receiveRegion"))+" ")]),e._v(" "+e._s(s.row.receiveRegion)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-tickets"}),e._v(" "+e._s(e.$t("email"))+" ")]),t("el-tag",{attrs:{size:"small"}},[e._v(e._s(s.row.email))])],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-office-building"}),e._v(" "+e._s(e.$t("details"))+" ")]),e._v(" "+e._s(s.row.details)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-office-building"}),e._v(" "+e._s(e.$t("remark"))+" ")]),e._v(" "+e._s(s.row.remark)+" ")],2)],2),[t("div",{staticStyle:{"margin-top":"10px"}},[t("el-steps",{attrs:{space:200,active:s.row.orderStatus,"finish-status":"success","align-center":"true"}},[t("el-step",{attrs:{title:e.$t("state1")}}),t("el-step",{attrs:{title:e.$t("state2")}}),t("el-step",{attrs:{title:e.$t("state3")+s.row.sendRegion+e.$t("state4")}}),t("el-step",{attrs:{title:e.$t("state5")+s.row.receiveRegion+e.$t("state6")}}),t("el-step",{attrs:{title:e.$t("state7")}}),t("el-step",{attrs:{title:e.$t("state8")}})],1)],1)]]}}])}),t("el-table-column",{attrs:{label:e.$t("orderName"),prop:"orderName"}}),t("el-table-column",{attrs:{label:e.$t("create_time"),prop:"createTime"}}),t("el-table-column",{attrs:{label:e.$t("type"),prop:"dateOut"}}),t("el-table-column",{attrs:{label:e.$t("others.insurance"),prop:"others[0]"}}),t("el-table-column",{attrs:{label:e.$t("others.selfPickup"),prop:"others[1]"}}),t("el-table-column",{attrs:{label:e.$t("isConfirmed"),prop:"isConfirmed"}})],1),t("el-dialog",{attrs:{title:e.$t("Uploadphotos"),visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:"image/jpeg,image/png,image/jpg","auto-upload":!0,"file-list":e.fileList,"before-upload":e.onBeforeUploadImage,"on-success":e.uploadSuccess,"on-change":e.loadJsonFromFile,limit:e.limitnum,"on-exceed":e.exceedFile,"on-remove":e.removeFile,"on-error":e.uploadFileError,action:e.http+"://"+e.serverIp+":"+e.serverPort+"/file/upload"}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v(e._s(e.$t("Selectionphotos")))]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("Uploadjpgpngfilesonlyandnomorethan500kb")))])],1)],1),t("el-dialog",{attrs:{visible:e.UserDialogVisible,width:"50%"},on:{"update:visible":function(t){e.UserDialogVisible=t}}},[t("div",{staticClass:"demo-image__lazy"},e._l(e.urls,(function(e){return t("el-image",{key:e,attrs:{src:e,lazy:"","preview-src-list":""}})})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.UserDialogVisible=!1}}},[e._v(e._s(e.$t("return")))])],1)]),t("el-dialog",{attrs:{visible:e.AdminDialogVisible,width:"50%"},on:{"update:visible":function(t){e.AdminDialogVisible=t}}},[t("div",{staticClass:"demo-image__lazy"},e._l(e.urls,(function(e){return t("el-image",{key:e,attrs:{src:e,lazy:"","preview-src-list":""}})})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.AdminDialogVisible=!1}}},[e._v(e._s(e.$t("return")))])],1)])],1)},i=[],l=(s(7658),s(6369)),r=s(2618),o=(0,l.defineComponent)({name:"searchorder",data(){return{tableData:[],serverIp:r.IV,serverPort:r.Zi,http:r.dJ,centerDialogVisible:!1,uploadUsername:"",uploadOrdername:"",user:"",fileList:[],currentOrdername:"",limitnum:10,UserDialogVisible:!1,urls:[],AdminDialogVisible:!1,numOrders:null,CS:{"text-align":"center","min-width":"250px","word-break":"break-all"}}},created(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},this.searchOrdersByUsername()},methods:{handleAddPhoto(e,t){this.centerDialogVisible=!0,this.currentOrdername=t},updateData(){this.searchOrdersByUsername()},deleteOrder(e){this.request.delete("/order/ordername/"+e).then((e=>{"200"===e.code?(console.log("22222"),this.$message.success(this.$t("message.successfullyDeleted").toString()),this.updateData()):this.$message.error(this.$t("message.failedToDelete").toString())}))},uploadFileError(e,t,s){this.$message.error(this.$t("message.uploadFailed").toString())},exceedFile(e,t){this.$message.error(this.$t("message.numberDocumentsAllowed")+":"+this.limitnum)},removeFile(e,t){this.fileList=t},loadJsonFromFile(e,t){this.fileList=t},onBeforeUploadImage(e){const t="image/jpeg"===e.type||"image/jpg",s=e.size/1024/1024<5;return t||this.$message.error(this.$t("message.uploadFilesCanOnlyInImageFormat").toString()),s||this.$message.error(this.$t("message.uploadFilesCanOnlyInImageFormat")+"1MB!"),t&&s},uploadSuccess(e,t,s){let a={orderName:this.currentOrdername,userName:"",url:e};try{this.request.post("/order-file",a).then((e=>{"200"===e.code&&(this.searchOrdersByUsername(),this.$message.success(this.$t("message.uploadSuccessful").toString()))}))}catch(i){this.$message.error(this.$t("message.message.uploadFailed").toString())}},searchOrdersByUsername(){this.request.get("/order/username").then((e=>{if(this.tableData=JSON.parse(JSON.stringify(e.data)),0===this.tableData.length)return;const t="userUpload",s="adminUpload";for(let a=0;a<this.tableData.length;a++){switch(this.request.get("/order-file/ordername/"+this.tableData[a].orderName).then((e=>{if(this.tableData[a][t]=[],this.tableData[a][s]=[],null!=e.data)for(let i=0;i<e.data.length;i++)!1===e.data[i].adminUp?this.tableData[a][t].push(e.data[i].url):this.tableData[a][s].push(e.data[i].url)})),this.tableData[a].sendRegion){case"Moscow":this.tableData[a].sendRegion=this.$t("Moscow");break;case"Guangdong":this.tableData[a].sendRegion=this.$t("Guangdong");break;default:}switch(this.tableData[a].receiveRegion){case"Moscow":this.tableData[a].receiveRegion=this.$t("Moscow");break;case"Guangdong":this.tableData[a].receiveRegion=this.$t("Guangdong");break;default:}this.tableData[a].others=[this.tableData[a].others[0]+this.tableData[a].others[1],this.tableData[a].others[3]+this.tableData[a].others[4]],"保险"===this.tableData[a].others[0]?this.tableData[a].others[0]=this.$t("true"):this.tableData[a].others[0]=this.$t("false"),"自取"===this.tableData[a].others[1]?this.tableData[a].others[1]=this.$t("true"):this.tableData[a].others[1]=this.$t("false"),this.tableData[a].isConfirmed,this.tableData[a].isConfirmed=this.$t(this.tableData[a].isConfirmed.toString()),"12-15days"===this.tableData[a].dateOut?this.tableData[a].dateOut=this.$t("time1"):"18-25days"===this.tableData[a].dateOut&&(this.tableData[a].dateOut=this.$t("time2"))}}))},showUserPhoto(e){this.UserDialogVisible=!0,this.urls=e},showAdminPhoto(e){this.AdminDialogVisible=!0,this.urls=e}}}),n=o,d=s(1001),c=(0,d.Z)(n,a,i,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=760.d9cd2ceb.js.map