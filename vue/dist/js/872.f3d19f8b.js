"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[872],{7872:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative",right:"-25%",top:"10%",width:"60%"}},[t("el-card",{staticStyle:{width:"500px"}},[t("el-form",{attrs:{"label-width":"80px",size:"small"}},[t("el-form-item",{attrs:{label:e.$t("username")}},[t("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:e.$t("nickname")}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),t("el-form-item",{attrs:{label:e.$t("email")}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:e.$t("phone")}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:e.$t("address")}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),t("el-form-item",[t("el-button",{directives:[{name:"no-more-click",rawName:"v-no-more-click"}],attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)],1)},a=[],o=r(2618),l={name:"Person",data(){return{serverIp:o.IV,form:{},user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},created(){this.getUser().then((e=>{this.form=e}))},methods:{async getUser(){return(await this.request.get("/user/username/"+this.user.username)).data},save(){console.log(this.form),this.request.post("/user/saveByUser",this.form).then((e=>{"200"===e.code?(this.$message.success("Сохранено успешно"),this.$emit("refreshUser"),this.getUser().then((e=>{e.token=JSON.parse(localStorage.getItem("user")).token,localStorage.setItem("user",JSON.stringify(e))}))):this.$message.error("Не удалось сохранить")}))},handleAvatarSuccess(e){this.form.avatarUrl=e}}},m=l,n=r(1001),i=(0,n.Z)(m,s,a,!1,null,null,null),u=i.exports}}]);
//# sourceMappingURL=872.f3d19f8b.js.map