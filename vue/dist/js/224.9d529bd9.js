"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[224],{7224:function(e,s,r){r.r(s),r.d(s,{default:function(){return u}});var o=function(){var e=this,s=e._self._c;return s("el-card",{staticStyle:{width:"500px",position:"relative",top:"20%",right:"-25%"}},[s("el-form",{ref:"pass",attrs:{"label-width":"120px",size:"small",model:e.form,rules:e.rules}},[s("el-form-item",{attrs:{label:"原密码",prop:"password"}},[s("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}})],1),s("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[s("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:e.form.newPassword,callback:function(s){e.$set(e.form,"newPassword",s)},expression:"form.newPassword"}})],1),s("el-form-item",{attrs:{label:"确认新密码",prop:"confirmPassword"}},[s("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:e.form.confirmPassword,callback:function(s){e.$set(e.form,"confirmPassword",s)},expression:"form.confirmPassword"}})],1),s("el-form-item",[s("el-button",{directives:[{name:"no-more-click",rawName:"v-no-more-click"}],attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)},t=[],a={name:"Password",data(){return{form:{},user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},rules:{password:[{required:!0,message:"请输入原密码",trigger:"blur"},{min:3,message:"长度不少于3位",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:3,message:"长度不少于3位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,message:"长度不少于3位",trigger:"blur"}]}}},created(){this.form.username=this.user.username,this.form.id=this.user.id},methods:{save(){this.$refs.pass.validate((e=>{if(e){if(this.form.newPassword!==this.form.confirmPassword)return this.$message.error("2次输入的新密码不相同"),!1;this.request.post("/user/password",this.form).then((e=>{"200"===e.code?(this.$message.success("修改成功"),this.$store.commit("logout")):this.$message.error(e.msg)}))}}))}}},i=a,l=r(1001),m=(0,l.Z)(i,o,t,!1,null,null,null),u=m.exports}}]);
//# sourceMappingURL=224.9d529bd9.js.map